# Mysql选型和简单使用

## 1. MySQL的优势与劣势

### 优势
- **开源免费**：社区版免费使用，降低开发成本
- **性能优越**：支持高并发访问，读写性能优秀
- **可靠性高**：具备完善的ACID事务支持
- **生态系统完善**：拥有丰富的工具和社区支持
- **跨平台支持**：支持Windows、Linux、macOS等主流操作系统
- **易于使用**：SQL语法相对简单，学习曲线平缓

### 劣势
- **单机性能瓶颈**：大数据量时单机性能受限
- **功能相对简单**：相比商业数据库功能较少
- **集群方案复杂**：高可用和负载均衡配置相对复杂
- **存储过程性能**：存储过程性能不如Oracle等商业数据库

## 2. 使用 Docker-Compose 启动 MySQL 实例

### 2.1 安装 Docker 和 Docker-Compose

确保本地已安装 Docker 和 Docker Compose：

```bash
# 检查 Docker 是否安装
docker --version

# 检查 Docker Compose 是否安装
docker-compose --version
```

如果未安装，请参考官方文档进行安装：

- Docker: https://docs.docker.com/get-docker/
- Docker Compose: https://docs.docker.com/compose/install/

------

### 2.2 创建 docker-compose.yml 文件

新建一个目录，例如 `mysql-docker`，并在其中创建 `docker-compose.yml` 文件：

```yaml
version: '3.8'

services:
  mysql:
    image: mysql:8.0  # 使用8.0版本的 MySQL 镜像
    container_name: my-mysql  # 容器名称
    environment:
      MYSQL_ROOT_PASSWORD: 123456  # 设置 MySQL root 用户的密码
    ports:
      - "3306:3306"  # 将容器的 3306 端口映射到宿主机的 3306 端口
    volumes:
      - /data/mysql:/var/lib/mysql  # 将宿主机的 /data/mysql 目录挂载到容器的 /var/lib/mysql 目录
    restart: always  # 容器退出后总是重启
```

说明：

- `MYSQL_ROOT_PASSWORD`：设置 root 用户密码
- `ports`：将容器的 3306 端口映射到主机的 3306 端口
- `volumes`：持久化 MySQL 数据，避免容器重启后数据丢失

------

### 2.3 启动 MySQL 容器

在 `docker-compose.yml` 文件所在目录执行：

```bash
docker-compose up -d
```

执行成功后，MySQL 容器将在后台运行。 

------

### 2.4 配置MySQL运存远程连接

#### 1. 确认容器运行正常

先确认容器是运行状态：

```bash
docker ps
```

你应该能看到 `my-mysql` 容器正在运行。

#### 2. 进入容器内部，登录 MySQL

```bash
docker exec -it my-mysql mysql -uroot -p123456
```

如果能成功登录，说明 MySQL 本身没问题，是 **远程连接权限** 的问题。

#### 3. 授权 root 用户允许远程连接

在 MySQL 容器中执行以下 SQL：

```sql
-- 查看当前用户权限
SELECT user, host FROM mysql.user;

-- 授权 root 用户可以从任意主机连接
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' WITH GRANT OPTION;

-- 刷新权限
FLUSH PRIVILEGES;
```

------

## 3. MySQL使用工具

### 常用工具分类
- **图形化管理工具**
  - MySQL Workbench（官方推荐）
  - Navicat for MySQL
  - phpMyAdmin（Web版）
  - DBeaver（开源免费）
- **命令行工具**
  - mysql命令行客户端
  - mysqldump备份工具
  - mysqladmin管理工具

### 最常用工具：Navicat，使用体验目前没有任何工具超过
## 3. 工具的简单使用

1. 新建库
2. 新建表
3. 修改表结构
4. 复制，截断等
5. sql查询使用